version: 2
jobs:
  lint-scripts:
    docker:
    - image: koalaman/shellcheck-alpine
    steps:
    - checkout
    - run:
        name: lint
        command: |
          shellcheck -x scripts/helm_lint.sh
          shellcheck -x scripts/helm_deploy.sh 
  lint-charts:
    docker:
    - image: gcr.io/kubernetes-charts-ci/test-image:v3.3.2
    steps:
    - checkout
    - run:
        name: lint
        command: |
          git remote add k8s https://github.com/helm/charts
          git fetch k8s master
          ct lint --config .ct.yaml
workflows:
  version: 2
  lint:
    jobs:
    - lint-scripts
    - lint-charts
